<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">

<script>
window.mobile = 'standalone' in navigator;
document.addEventListener('DOMContentLoaded', function (){
	if(mobile) window['touch-ctrl'].style.display = 'block';
	eleKeySim(window['touch-left-ctrl'], 37);
	eleKeySim(window['touch-right-ctrl'], 39);
	eleKeySim(window['touch-up-ctrl'], 38);
});
</script>
<script src="./js/touch.js"></script>

<script src="./js/util.js"></script>

<!-- constructors -->
<script src="./js/events.js"></script>
<script src="./js/cbject.js"></script>
<script src="./js/actor.js"></script>
<script src="./js/player.js"></script>

<!-- game -->
<script src="./js/game.js"></script>
<script src="./js/sprites.js"></script>
<script src="./js/items.js"></script>
<script data-src="./js/usernote.js">
var user = {};
user.notify = function (){
	var args = Array.prototype.slice.call(arguments);
	console.log('user.notify:: '+ args.join(' '));
};
user.warn = function (){
	var args = Array.prototype.slice.call(arguments);
	console.log('user.warn:: '+ args.join(' '));
};
</script>

<style>
body {overflow:hidden;}
canvas {position:absolute;left:0;top:0;}
#touch-ctrl {position:absolute;bottom:0;left:0;right:0;padding:10px}
#touch-ctrl .ctrl {
float:left;margin:0 10px;width:40px;height:40px;
background-image:url(./assets/interface/ctrl-move.png);background-size:auto 80px;}
#touch-ctrl .ctrl:active {background-position-y:40px;}
#touch-left-ctrl.ctrl {width:50px;background-position-x:0px;margin-right:0;}
#touch-right-ctrl.ctrl {width:50px;background-position-x:90px;margin-left:0;}
#touch-up-ctrl.ctrl {background-position-x:180px;}
</style>

<canvas id="can"></canvas>

<div id="touch-ctrl" style="display:none;">
	<div class="ctrl" id="touch-left-ctrl"></div>
	<div class="ctrl" id="touch-right-ctrl"></div>
	
	<div class="ctrl" id="touch-up-ctrl" style="float:right;"></div>
</div>

<script>
// temporary stuff for testing
g.player.addItem('001');
g.player.addItem('002');
g.player.addItem('003');
g.player.addItem('004');
g.player.addItem('005');
</script>